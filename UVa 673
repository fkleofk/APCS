/*NOT SLOVE YET*/
#include<stdio.h>
#include<stack>
#include<string.h>
#include<iostream>
using namespace std ;

int main() {
//------------------------------------------------
#ifdef local
//    freopen("input.txt","r",stdin);
//    freopen("out.txt","w",stdout);
#endif
//------------------------------------------------
	int n ;
	int i ;
	int e ;
	scanf ( "%d" , &n ) ;
	char c[128] ;
	stack<int> st ;
	while ( n != 0 ) {
		e = 0 ;
		//cin.getline( c , 128 ) ;
		//scanf( "%[^\n]" , c ) ;	
		if ( c  == " " ) {
			printf ( "Yes\n" ) ;
		}
		/*-----------------------------------------------------------*/		
		else {
			/*-------------------------------------------------------*/
			for ( i = 0 ; i < strlen ( c ) ; i++ ) {
				if ( c[i] == '(' ) {
					st.push( 1 ) ;
				}
				else if ( c[i] == '[' ) {
					st.push( 2 ) ;
				}
				else if ( c[i] == ')' ) {
					if ( st.empty() ) {
						e = 1 ;						
					}
					else {
						if ( st.top() == 1 ) {
							st.pop() ;
						}
						else {
							e = 1 ;
						}			
					}
				}
				else if ( c[i] == ']' ) {
					if ( st.empty() ) {
						e = 1 ;	
					}
					else {
						if ( st.top() == 2 ) {
							st.pop() ;
						}
						else {
							e = 1 ;
						}
					}
				}	
			}				
		}
		/*-------------------------------------------------------*/			
		if ( st.empty() && e == 0 ) {
			printf ( "Yes\n" ) ;
		}
		else if ( e == 1 ) {
			printf ( "No\n" ) ;
		}
		else if ( !st.empty() ) {
			while( !st.empty() ) {
				st.pop() ;
			}
		}
		/*-------------------------------------------------------*/	
		/*-----------------------------------------------------------*/			
		n-- ;
	} 
}
